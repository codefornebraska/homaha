(this.webpackJsonphomaha=this.webpackJsonphomaha||[]).push([[0],{130:function(e,t,a){},162:function(e,t,a){"use strict";a.r(t);var l=a(0),n=a.n(l),i=a(16),c=a.n(i),o=(a(130),a(70)),r=a(58),s=a(59),d=a(109),j=a(198),u=a(201),m=a(184),h=a(189),b=a(164),x=a(202),O=a(121),f=a(191),p=a(192),g=a(194),y=a(188),w=a(200),v=a(203),F=a(204),C=a(195),N=a(199),S=a(40),M=a(186),k=a(187),I=a(5),D=Object(m.a)((function(e){return{card:{display:"flex",alignItems:"left",maxWidth:600,width:"100%",minWidth:300,flexDirection:"column",margin:"20px auto",marginBottom:20,padding:20},stats:{display:"flex",flexDirection:"row",marginTop:15},statColumn:{marginRight:50},phone:{display:"flex",flexDirection:"row",justifyContent:"left",marginTop:15}}}));function T(e){var t=e.shelter,a=e.distance,l=D(),n=t.allowsChildren,i=t.allowsFamilyFemale,c=t.allowsFamilyMale,o=t.allowsIntoxication,r=t.allowsNarcotics,s=t.allowsSingleFemale,d=t.allowsSingleMale,j=t.location,u=t.name,m=t.phone,h=(t.totalCapacity,t.availableCapacity,[{allowed:n,fieldName:"Children"},{allowed:i,fieldName:"Family Female"},{allowed:c,fieldName:"Family Male"},{allowed:o,fieldName:"Intoxicated"},{allowed:r,fieldName:"Narcotics"},{allowed:s,fieldName:"Single Female"},{allowed:d,fieldName:"Single Male"}]),x=h.filter((function(e){return!0===e.allowed})),O=h.filter((function(e){return!1===e.allowed}));return Object(I.jsxs)(M.a,{className:l.card,children:[Object(I.jsx)("div",{style:{display:"flex",flexDirection:"row"},children:Object(I.jsxs)("div",{style:{flex:3},children:[Object(I.jsx)(b.a,{variant:"h5",children:u}),Object(I.jsx)("a",{href:"http://maps.google.com/?q=".concat(j),style:{color:"lightblue"},children:j}),Object(I.jsxs)("div",{children:["Distance: ",a," miles"]}),Object(I.jsxs)("div",{className:l.phone,children:[Object(I.jsx)("a",{href:"tel:"+m,style:{color:"white",padding:4},children:Object(I.jsx)(k.a,{})}),Object(I.jsx)(b.a,{style:{paddingRight:20},variant:"h6",children:m})]}),Object(I.jsx)(y.a,{variant:"outlined",style:{marginTop:10},children:"Website"}),Object(I.jsx)(y.a,{variant:"outlined",style:{marginTop:10,marginLeft:10},href:"http://maps.google.com/?q=".concat(j),children:"Directions"})]})}),Object(I.jsxs)("div",{className:l.stats,children:[Object(I.jsxs)("div",{className:l.statColumn,children:[Object(I.jsx)("span",{style:{fontSize:16,fontWeight:"bold"},children:"Accepts:"}),null===x||void 0===x?void 0:x.map((function(e){return Object(I.jsx)("div",{children:e.fieldName},e.fieldName)}))]}),Object(I.jsxs)("div",{className:l.statColumn,children:[Object(I.jsx)("span",{style:{fontSize:16,fontWeight:"bold"},children:"Not Accepted:"}),null===O||void 0===O?void 0:O.map((function(e){return Object(I.jsx)("div",{children:e.fieldName},e.fieldName)}))]})]})]})}var A,B=a(190),P=a(193),R=a(115),W=Object(m.a)((function(){return{root:{display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center"},appHeader:{marginBottom:65},cardGroup:{display:"flex",justifyContent:"center",flexWrap:"wrap"},warningText:{fontSize:"calc(10px + 1vmin)",width:"80%",textAlign:"center",margin:"0 auto",marginBottom:10},appBar:{flexGrow:1,display:"flex",flexDirection:"row"},centerFilterButton:{width:"100%",display:"flex",justifyContent:"center",margin:"15px 0"}}})),q=Object(S.gql)(A||(A=Object(d.a)(["\n    {\n        shelter {\n            id\n            name\n            createdAt\n            phone\n            location\n            availableCapacity\n            totalCapacity\n            allowsIntoxication\n            allowsNarcotics\n            allowsSingleMale\n            allowsFamilyMale\n            allowsFamilyFemale\n            allowsSingleFemale\n            allowsChildren\n            latitude\n            longitude\n        }\n    }\n"])));var E=function(){var e=W(),t=Object(S.useQuery)(q).data,a=Object(l.useState)(!1),n=Object(s.a)(a,2),i=n[0],c=n[1],d=Object(l.useState)({isIntoxicated:!1,isNarcotics:!1,isSingleMale:!1,isSingleFemale:!1,isFamilyMale:!1,isFamilyFemale:!1,isChildren:!1}),m=Object(s.a)(d,2),M=m[0],k=m[1],D=Object(l.useState)({}),A=Object(s.a)(D,2),E=A[0],L=A[1],z=Object(l.useRef)(null),G=t&&t.shelter||[],H=null===G||void 0===G?void 0:G.filter((function(e){return!Object(j.a)((function(e){return!0===e}))(Object(u.a)(M))||(e.allowsIntoxication||e.allowsIntoxication===M.isIntoxicated)&&(e.allowsNarcotics||e.allowsNarcotics===M.isNarcotics)&&(e.allowsSingleMale||e.allowsSingleMale===M.isSingleMale)&&(e.allowsSingleFemale||e.allowsSingleFemale===M.isSingleFemale)&&(e.allowsFamilyMale||e.allowsFamilyMale===M.isFamilyMale)&&(e.allowsFamilyFemale||e.allowsFamilyFemale===M.isFamilyFemale)&&(e.allowsChildren||e.allowsChildren===M.isChildren)})),J=function(){c((function(e){return!e}))},V=function(e){z.current&&z.current.contains(e.target)||c(!1)};function K(e){"Tab"===e.key&&(e.preventDefault(),c(!1))}var Q=Object(l.useRef)(i);Object(l.useEffect)((function(){!0===Q.current&&!1===i&&z.current.focus(),Q.current=i}),[i]);var U=function(e){return function(t){k(Object(r.a)(Object(r.a)({},M),{},Object(o.a)({},e,t.target.checked)))}},Y=function(t){var a=Object(l.useState)(null),n=Object(s.a)(a,2),i=n[0],c=n[1];return Object(I.jsx)(h.a,{onClickAway:function(){c(null)},children:Object(I.jsxs)("div",{className:e.warningText,children:[Object(I.jsxs)(b.a,{variant:"h6",color:"secondary",onClick:function(e){c(i?null:e.currentTarget)},children:["Domestic Violence ",Object(I.jsx)(B.a,{})]}),Object(I.jsx)(x.a,{open:!!i,anchorEl:i,style:{padding:"0px 20px"},children:Object(I.jsx)(O.a,{children:Object(I.jsx)("div",{style:{padding:"10px 10px"},children:"Individuals involved in Domestic Violence Situations may have further resources available that are not listed below. Please contact your emergency services number for assistance"})})})]})})},X=function(){return Object(I.jsx)("div",{style:{textAlign:"center"},children:"DRAFT ONLY - Not Ready for Public Use"})};Object(l.useEffect)((function(){navigator.geolocation.getCurrentPosition((function(e){L({latitude:e.coords.latitude,longitude:e.coords.longitude})}))}),[]);var Z=function(e,t){return R.getDistance(e,t,1)};return Object(I.jsxs)("div",{children:[Object(I.jsx)("header",{className:e.appHeader,children:Object(I.jsxs)(f.a,{className:e.appBar,color:"default",children:[Object(I.jsx)(p.a,{onClick:J,children:Object(I.jsx)(P.a,{ref:z,"aria-controls":i?"menu-list-grow":void 0,"aria-haspopup":"true"})}),Object(I.jsx)(g.a,{children:Object(I.jsx)(b.a,{variant:"h5",children:"Metro Shelter Project"})})]})}),Object(I.jsx)(X,{}),Object(I.jsx)(Y,{}),Object(I.jsx)("div",{className:e.centerFilterButton,children:Object(I.jsx)(y.a,{variant:"outlined",onClick:J,children:"Filter"})}),Object(I.jsx)("div",{className:e.cardGroup,children:H&&H.map((function(e){return Object(I.jsx)(T,{shelter:e,distance:Math.round(.0062137*Z(E,{latitude:e.latitude,longitude:e.longitude}))/10},e.id)}))}),Object(I.jsx)(x.a,{open:i,anchorEl:z.current,role:void 0,transition:!0,disablePortal:!0,children:function(e){var t=e.TransitionProps,a=e.placement;return Object(I.jsx)(w.a,Object(r.a)(Object(r.a)({},t),{},{style:{transformOrigin:"bottom"===a?"center top":"center bottom"},children:Object(I.jsx)(O.a,{style:{paddingTop:20},children:Object(I.jsx)(h.a,{onClickAway:V,children:Object(I.jsxs)(v.a,{autoFocusItem:i,id:"menu-list-grow",onKeyDown:K,children:[Object(I.jsx)(F.a,{children:Object(I.jsx)(C.a,{control:Object(I.jsx)(N.a,{checked:M.isIntoxicated,onChange:U("isIntoxicated"),name:"Menu1",color:"primary"}),label:"Intoxicated"})},"menu1"),Object(I.jsx)(F.a,{children:Object(I.jsx)(C.a,{control:Object(I.jsx)(N.a,{checked:M.isNarcotics,onChange:U("isNarcotics"),name:"Menu2",color:"primary"}),label:"Narcotics"})},"menu2"),Object(I.jsx)("hr",{}),Object(I.jsx)(F.a,{children:Object(I.jsx)(C.a,{control:Object(I.jsx)(N.a,{checked:M.isSingleMale,onChange:U("isSingleMale"),name:"Menu3",color:"primary"}),label:"Single Male"})},"menu3"),Object(I.jsx)(F.a,{children:Object(I.jsx)(C.a,{control:Object(I.jsx)(N.a,{checked:M.isFamilyMale,onChange:U("isFamilyMale"),name:"Menu4",color:"primary"}),label:"Family Male"})},"menu4"),Object(I.jsx)(F.a,{children:Object(I.jsx)(C.a,{control:Object(I.jsx)(N.a,{checked:M.isSingleFemale,onChange:U("isSingleFemale"),color:"primary"}),label:"Single Female"})},"menu5"),Object(I.jsx)(F.a,{children:Object(I.jsx)(C.a,{control:Object(I.jsx)(N.a,{checked:M.isFamilyFemale,onChange:U("isFamilyFemale"),color:"primary"}),label:"Family Female"})},"menu7"),Object(I.jsx)(F.a,{children:Object(I.jsx)(C.a,{control:Object(I.jsx)(N.a,{checked:M.isChildren,onChange:U("isChildren"),name:"Menu6",color:"primary"}),label:"Allow Children"})},"menu6")]})})})}))}})]})},L=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,205)).then((function(t){var a=t.getCLS,l=t.getFID,n=t.getFCP,i=t.getLCP,c=t.getTTFB;a(e),l(e),n(e),i(e),c(e)}))},z="http://localhost:3001/graphql";z="https://codefornebraska-housing.herokuapp.com/graphql";var G=new S.ApolloClient({uri:z,cache:new S.InMemoryCache}),H=a(119),J=a(196),V=a(197),K=Object(H.a)({palette:{type:"dark"}});c.a.render(Object(I.jsx)(n.a.StrictMode,{children:Object(I.jsx)(S.ApolloProvider,{client:G,children:Object(I.jsxs)(J.a,{theme:K,children:[Object(I.jsx)(V.a,{}),Object(I.jsx)(E,{})]})})}),document.getElementById("root")),L()}},[[162,1,2]]]);
//# sourceMappingURL=main.8236c2d3.chunk.js.map